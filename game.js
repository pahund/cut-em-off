!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=[0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,1,4,11,2,1,4,2,0,0,5,11,6,11,13,0,1,11,12,2,0,0,1,11,10,9,11,13,0,0,3,0,3,0,5,11,13,0,3,3,0,0,3,1,11,6,11,10,0,1,4,2,9,11,13,0,9,11,10,3,0,0,3,3,0,3,0,0,0,3,1,13,0,0,3,0,0,0,0,5,11,0,3,3,0,14,0,1,11,10,3,9,11,6,4,11,6,2,0,3,0,0,3,3,0,3,0,3,0,0,3,0,0,3,0,0,3,3,0,3,0,0,9,13,0,5,11,10,0,0,3,1,11,10,0,0,3,3,0,3,0,0,0,3,0,3,0,0,0,1,4,10,0,0,0,0,3,5,11,4,11,0,1,13,0,5,11,2,0,3,0,1,11,11,11,11,12,10,0,0,0,0,3,3,0,3,0,5,11,13,0,9,11,2,0,0,3,0,0,1,11,0,9,10,0,5,11,10,0,9,11,11,11,12,11,6,10,0,0,3,0,0,0,0,0,3,1,11,2,1,11,11,11,10,0,3,0,1,11,4,11,1,6,6,11,10,3,0,3,3,0,0,0,1,2,9,11,12,11,2,0,0,3,3,0,0,3,0,3,3,1,11,2,3,3,0,0,3,0,3,0,0,5,4,2,0,5,11,10,3,3,0,5,12,4,11,11,13,0,5,11,0,3,0,5,11,12,11,6,10,9,6,10,3,0,0,0,9,11,10,0,1,4,11,13,0,3,0,9,11,11,13,0,9,11,6,11,6,6,11,11,0,0,0,3,0,3,0,0,0,0,5,11,11,2,3,0,3,3,0,0,0,0,0,3,0,3,0,0,0,0,3,0,0,3,9,11,10,3,0,0];var o=async()=>{const{sx:t,sy:e}=((t,e)=>({sx:100*t+50,sy:100*e+50}))(4,5),n=kontra.tileEngine({tileWidth:100,tileHeight:100,width:28,height:26,sx:t,sy:e}),o=await(t=>new Promise(e=>{const n=document.createElement("img");n.src=t,n.onload=(()=>e(n))}))("tilesheet.png");return n.addTilesets({image:o}),n.addLayers({name:"main",data:((t,e,n,r,o)=>{const s=[];let i=0;for(let a=0;a<n+2*o;a++)for(let l=0;l<e+2*r;l++)a<o||a>=o+n||l<r||l>=r+e?s.push(0):s.push(t[i++]);return s})(r,20,20,4,3)}),n},s=()=>kontra.sprite({x:400,y:300,width:6,render(){this.context.lineWidth=3,this.context.strokeStyle="#75a042",this.context.fillStyle="#365b1d",this.context.beginPath(),this.context.moveTo(this.x-15,this.y+25),this.context.lineTo(this.x,this.y-25),this.context.lineTo(this.x+15,this.y+25),this.context.closePath(),this.context.fill(),this.context.stroke()}});var i=({map:t,sprites:e,devbox:n})=>kontra.gameLoop({update(){kontra.keys.pressed("right")&&(t.sx+=10),kontra.keys.pressed("left")&&(t.sx-=10),kontra.keys.pressed("up")&&(t.sy-=10),kontra.keys.pressed("down")&&(t.sy+=10)},render(){t.render(),e.map(t=>t.render());const{x:o,y:s}=((t,e)=>({x:Math.floor(t/100),y:Math.floor(e/100)}))(t.sx,t.sy),i=((t,e)=>20*e+t)(o,s);n.innerHTML=`sx = ${t.sx}; sy: ${t.sy}; x: ${o}; y: ${s}; idx: ${i}; tile: ${r[i]}`}});const a=[],l={};(async()=>{(()=>{const t=document.createElement("canvas");t.width=800,t.height=600,document.getElementById("wrapper").appendChild(t)})(),kontra.init(),a.push(s());const t=await o();i({map:t,sprites:a,devbox:l}).start()})()}]);